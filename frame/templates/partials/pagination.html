<!-- partials/pagination.html -->
<nav aria-label="Page navigation" class="flex items-center justify-center space-x-1 mt-4">
  <ul class="inline-flex -space-x-px rounded-md shadow-sm">
    {% if page_obj.has_previous %}
      <li>
        <a href="?page=1&query={{ search_query }}" 
           hx-get="?page=1&query={{ search_query }}" 
           hx-target="#table-container" 
           hx-swap="outerHTML"
           class="px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700">
          First
        </a>
      </li>
      <li>
        <a href="?page={{ page_obj.previous_page_number }}&query={{ search_query }}" 
           hx-get="?page={{ page_obj.previous_page_number }}&query={{ search_query }}" 
           hx-target="#table-container" 
           hx-swap="outerHTML"
           class="px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700">
          Previous
        </a>
      </li>
    {% endif %}

    <li>
      <span class="px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 dark:bg-neutral-700 dark:text-neutral-400 dark:border-neutral-700">
        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
      </span>
    </li>

    {% if page_obj.has_next %}
      <li>
        <a href="?page={{ page_obj.next_page_number }}&query={{ search_query }}" 
           hx-get="?page={{ page_obj.next_page_number }}&query={{ search_query }}" 
           hx-target="#table-container" 
           hx-swap="outerHTML"
           class="px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700">
          Next
        </a>
      </li>
      <li>
        <a href="?page={{ page_obj.paginator.num_pages }}&query={{ search_query }}" 
           hx-get="?page={{ page_obj.paginator.num_pages }}&query={{ search_query }}" 
           hx-target="#table-container" 
           hx-swap="outerHTML"
           class="px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700">
          Last
        </a>
      </li>
    {% endif %}
  </ul>
</nav>
